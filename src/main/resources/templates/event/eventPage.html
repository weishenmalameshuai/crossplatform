<#include "../layout.html">
<@layout>
<div id="app">
	<qfdt ref="qfdt" :data.sync="data"></qfdt>
</div>
<script type="text/javascript">
	var v=new Vue({
		el:"#app",
		data:function(){
			return {
				data:{
					parameter:{},
					qf:{
						items:[{
							key:"name_like",
							value:"事件检索"
						}],
						buttons:[{
							value:"查询",
							handler:function(){
								v.$refs.qfdt.flushData();
							}
						},{
							value:"添加",
							handler:function(){
								location.href="toAdd";
							}
						},{
							value:"修改",
							handler:function(){
								var cur=v.$refs.qfdt.getCurrent();
								if(cur){
									location.href="toDetail?id="+cur.id;
								}else{
									sm();
								}
							}
						},{
							value:"查看事件",
							handler:function(){
								var cur=v.$refs.qfdt.getCurrent();
								if(cur){
									location.href="toDetail?id="+cur.id;
								}else{
									sm();
								}
							}
						}]
					},
					dt:{
						items:[{
							key:"event_name",
							value:"事件名称"
						},{
							key:"addtime",
							value:"添加时间"
						}]
					}
				}
			}
		}
	});
</script>
</@layout>